{"ast":null,"code":"var _jsxFileName = \"D:\\\\Documents\\\\Website\\\\OneStore-0.2\\\\frontend\\\\src\\\\components\\\\HomeComponents\\\\RegistrationComponents\\\\EmailInput.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState } from \"react\";\nimport HomeInput from \"../HomeInput\";\nimport { EnvelopeIcon } from \"../../../Icons.js\";\nimport UsersDataService from \"../../../services/users\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst EMAILREGEX = new RegExp(\"^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:\\.[a-zA-Z0-9-]+)*$\");\n\nconst EmailInput = props => {\n  _s();\n\n  //main attribute\n  const [spanClass, setSpanClass] = useState(\"label\");\n  const [alertText, setAlertText] = useState(\"Email is not valid\");\n  const spanText = \"Email\";\n  let inputRightIcon = '';\n  let inputType = 'text';\n  let inputName = \"email\";\n  let inputClass = props.emailOK ? \"formInput borderBlack\" : \"formInput borderRed\";\n\n  const handleChange = event => {\n    props.setEmail(event.target.value);\n    props.setEmailOK(EMAILREGEX.test(event.target.value));\n\n    if (event.target.value === \"\") {\n      setSpanClass(\"label\");\n    } else {\n      setSpanClass(\"label spanUp\");\n    }\n  };\n\n  const checkEmailAvailability = email => {\n    if (props.emailOK) UsersDataService.getEmailAvailability(email).then(res => {\n      if (!res.data.available) {\n        props.setEmailOK(false);\n        setAlertText(\"Email is already registered\");\n        return;\n      }\n\n      props.setEmailOK(true);\n      setAlertText(\"Email is not valid\");\n    });\n  };\n\n  const Alert = () => {\n    return /*#__PURE__*/_jsxDEV(\"p\", {\n      style: {\n        visibility: props.emailOK ? \"hidden\" : \"visible\"\n      },\n      className: \"inputAlert\",\n      children: alertText\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 13\n    }, this);\n  };\n\n  return /*#__PURE__*/_jsxDEV(HomeInput, {\n    spanClass: spanClass,\n    setSpanClass: setSpanClass,\n    spanText: spanText,\n    icon: /*#__PURE__*/_jsxDEV(EnvelopeIcon, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 23\n    }, this),\n    inputRightIcon: inputRightIcon,\n    inputType: inputType,\n    inputName: inputName,\n    inputClass: inputClass,\n    value: props.email,\n    handleChange: handleChange,\n    alert: /*#__PURE__*/_jsxDEV(Alert, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 52\n    }, this),\n    checkEmailAvailability: checkEmailAvailability\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 55,\n    columnNumber: 9\n  }, this);\n};\n\n_s(EmailInput, \"Dj9raZ4NvHFQDis/LVg2sShWFFA=\");\n\n_c = EmailInput;\nexport default EmailInput;\n\nvar _c;\n\n$RefreshReg$(_c, \"EmailInput\");","map":{"version":3,"sources":["D:/Documents/Website/OneStore-0.2/frontend/src/components/HomeComponents/RegistrationComponents/EmailInput.js"],"names":["React","useState","HomeInput","EnvelopeIcon","UsersDataService","EMAILREGEX","RegExp","EmailInput","props","spanClass","setSpanClass","alertText","setAlertText","spanText","inputRightIcon","inputType","inputName","inputClass","emailOK","handleChange","event","setEmail","target","value","setEmailOK","test","checkEmailAvailability","email","getEmailAvailability","then","res","data","available","Alert","visibility"],"mappings":";;;AAAA,OAAOA,KAAP,IACIC,QADJ,QAEO,OAFP;AAGA,OAAOC,SAAP,MAAsB,cAAtB;AACA,SAAQC,YAAR,QAA2B,mBAA3B;AACA,OAAOC,gBAAP,MAA6B,yBAA7B;;AAEA,MAAMC,UAAU,GAAG,IAAIC,MAAJ,CAAW,sEAAX,CAAnB;;AAEA,MAAMC,UAAU,GAAGC,KAAK,IAAG;AAAA;;AAEvB;AACA,QAAM,CAACC,SAAD,EAAWC,YAAX,IAA2BT,QAAQ,CAAC,OAAD,CAAzC;AACA,QAAM,CAACU,SAAD,EAAWC,YAAX,IAA2BX,QAAQ,CAAC,oBAAD,CAAzC;AACA,QAAMY,QAAQ,GAAG,OAAjB;AACA,MAAIC,cAAc,GAAG,EAArB;AACA,MAAIC,SAAS,GAAG,MAAhB;AACA,MAAIC,SAAS,GAAG,OAAhB;AACA,MAAIC,UAAU,GAAIT,KAAK,CAACU,OAAP,GAAkB,uBAAlB,GAA4C,qBAA7D;;AAEA,QAAMC,YAAY,GAAGC,KAAK,IAAG;AACzBZ,IAAAA,KAAK,CAACa,QAAN,CAAeD,KAAK,CAACE,MAAN,CAAaC,KAA5B;AACAf,IAAAA,KAAK,CAACgB,UAAN,CAAiBnB,UAAU,CAACoB,IAAX,CAAgBL,KAAK,CAACE,MAAN,CAAaC,KAA7B,CAAjB;;AAEA,QAAGH,KAAK,CAACE,MAAN,CAAaC,KAAb,KAAuB,EAA1B,EAA6B;AACzBb,MAAAA,YAAY,CAAC,OAAD,CAAZ;AACH,KAFD,MAEK;AACDA,MAAAA,YAAY,CAAC,cAAD,CAAZ;AACH;AACJ,GATD;;AAWA,QAAMgB,sBAAsB,GAAIC,KAAD,IAAU;AACrC,QAAGnB,KAAK,CAACU,OAAT,EACId,gBAAgB,CAACwB,oBAAjB,CAAsCD,KAAtC,EACKE,IADL,CACUC,GAAG,IAAG;AACR,UAAG,CAACA,GAAG,CAACC,IAAJ,CAASC,SAAb,EAAuB;AACnBxB,QAAAA,KAAK,CAACgB,UAAN,CAAiB,KAAjB;AACAZ,QAAAA,YAAY,CAAC,6BAAD,CAAZ;AACA;AACH;;AAEDJ,MAAAA,KAAK,CAACgB,UAAN,CAAiB,IAAjB;AACAZ,MAAAA,YAAY,CAAC,oBAAD,CAAZ;AACH,KAVL;AAWP,GAbD;;AAgBA,QAAMqB,KAAK,GAAG,MAAK;AACf,wBACI;AAAG,MAAA,KAAK,EAAE;AAACC,QAAAA,UAAU,EAAG1B,KAAK,CAACU,OAAP,GAAkB,QAAlB,GAA6B;AAA1C,OAAV;AAAgE,MAAA,SAAS,EAAC,YAA1E;AAAA,gBAAwFP;AAAxF;AAAA;AAAA;AAAA;AAAA,YADJ;AAGH,GAJD;;AAMA,sBACI,QAAC,SAAD;AACQ,IAAA,SAAS,EAAEF,SADnB;AAC8B,IAAA,YAAY,EAAEC,YAD5C;AAC0D,IAAA,QAAQ,EAAEG,QADpE;AAEQ,IAAA,IAAI,eAAE,QAAC,YAAD;AAAA;AAAA;AAAA;AAAA,YAFd;AAEgC,IAAA,cAAc,EAAEC,cAFhD;AAGQ,IAAA,SAAS,EAAEC,SAHnB;AAG8B,IAAA,SAAS,EAAEC,SAHzC;AAIQ,IAAA,UAAU,EAAEC,UAJpB;AAIgC,IAAA,KAAK,EAAET,KAAK,CAACmB,KAJ7C;AAKQ,IAAA,YAAY,EAAER,YALtB;AAKoC,IAAA,KAAK,eAAE,QAAC,KAAD;AAAA;AAAA;AAAA;AAAA,YAL3C;AAKsD,IAAA,sBAAsB,EAAEO;AAL9E;AAAA;AAAA;AAAA;AAAA,UADJ;AAQH,CApDD;;GAAMnB,U;;KAAAA,U;AAsDN,eAAeA,UAAf","sourcesContent":["import React, {\r\n    useState\r\n} from \"react\"\r\nimport HomeInput from \"../HomeInput\"\r\nimport {EnvelopeIcon} from \"../../../Icons.js\"\r\nimport UsersDataService from \"../../../services/users\"\r\n\r\nconst EMAILREGEX = new RegExp(\"^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:\\.[a-zA-Z0-9-]+)*$\");\r\n\r\nconst EmailInput = props =>{\r\n\r\n    //main attribute\r\n    const [spanClass,setSpanClass] = useState(\"label\");\r\n    const [alertText,setAlertText] = useState(\"Email is not valid\");\r\n    const spanText = \"Email\";\r\n    let inputRightIcon = '';\r\n    let inputType = 'text';\r\n    let inputName = \"email\";\r\n    let inputClass = (props.emailOK) ? \"formInput borderBlack\" : \"formInput borderRed\";\r\n\r\n    const handleChange = event =>{\r\n        props.setEmail(event.target.value);\r\n        props.setEmailOK(EMAILREGEX.test(event.target.value));\r\n\r\n        if(event.target.value === \"\"){\r\n            setSpanClass(\"label\")\r\n        }else{\r\n            setSpanClass(\"label spanUp\")\r\n        }        \r\n    }\r\n\r\n    const checkEmailAvailability = (email) =>{\r\n        if(props.emailOK)\r\n            UsersDataService.getEmailAvailability(email)\r\n                .then(res =>{\r\n                    if(!res.data.available){\r\n                        props.setEmailOK(false);\r\n                        setAlertText(\"Email is already registered\")\r\n                        return;\r\n                    }\r\n\r\n                    props.setEmailOK(true);\r\n                    setAlertText(\"Email is not valid\")                 \r\n                })\r\n    }\r\n\r\n\r\n    const Alert = () =>{      \r\n        return(\r\n            <p style={{visibility: (props.emailOK) ? \"hidden\" : \"visible\"}} className=\"inputAlert\">{alertText}</p>\r\n        )\r\n    }\r\n\r\n    return(\r\n        <HomeInput \r\n                spanClass={spanClass} setSpanClass={setSpanClass} spanText={spanText} \r\n                icon={<EnvelopeIcon />} inputRightIcon={inputRightIcon} \r\n                inputType={inputType} inputName={inputName}\r\n                inputClass={inputClass} value={props.email} \r\n                handleChange={handleChange} alert={<Alert />} checkEmailAvailability={checkEmailAvailability} />\r\n    )\r\n}\r\n\r\nexport default EmailInput;"]},"metadata":{},"sourceType":"module"}